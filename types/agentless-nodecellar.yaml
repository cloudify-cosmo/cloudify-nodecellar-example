node_types:

  # base server type for installation without agent
  agentless-nodecellar.nodes.ParentTypeServer:
    derived_from: cloudify.vcloud.nodes.Server
    properties:
      install_agent:
        default: false
      cloudify_agent:
        default:
          user: ubuntu
          home_dir: /home/ubuntu

  # template for nodejs node
  agentless-nodecellar.nodes.NodeJSServer:
    derived_from: cloudify.nodes.WebServer
    interfaces:
      cloudify.interfaces.lifecycle:
        start:
          implementation: fabric.fabric_plugin.tasks.run_task
          inputs:
            tasks_file:
              default: scripts/withoutagent/install_nodejs.py
            task_name:
              default: install
            task_properties:
              default:
               config: {}

  # template for mongo node
  agentless-nodecellar.nodes.MongoDatabase:
    derived_from: cloudify.nodes.DBMS
    interfaces:
      cloudify.interfaces.lifecycle:
        start:
          implementation: fabric.fabric_plugin.tasks.run_task
          inputs:
            tasks_file:
              default: scripts/withoutagent/install_mongo.py
            task_name:
              default: install
            task_properties:
              default:
               config: {}
